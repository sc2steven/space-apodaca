Here’s your `index.html` with the fullscreen-ish scaling changes already applied (just replace your file with this):

```html
<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>SPACE APODACA</title>
<style>
  @import url('https://fonts.googleapis.com/css2?family=Press+Start+2P&display=swap');
  * { margin:0; padding:0; box-sizing:border-box; }
  body {
    background:#000;
    display:flex;
    flex-direction:column;
    align-items:center;
    justify-content:center;
    min-height:100vh;
    font-family:'Press Start 2P',monospace;
    overflow:hidden;
  }

  /* Responsive game wrapper: scales to window */
  #wrapper {
    position:relative;
    width:min(100vw, 100vh);
    max-width:900px; /* optional cap for very large screens */
  }

  #hud {
    display:flex;
    justify-content:space-between;
    align-items:center;
    padding:8px 4px;
    color:#fff;
    font-size:0.5rem;
    letter-spacing:0.05em;
  }
  #hi-score-line { color:#ff0; font-size:0.45rem; }

  /* Canvas scales to wrapper while keeping aspect ratio */
  canvas {
    display:block;
    width:100%;
    height:auto;
    image-rendering:pixelated;
  }

  #mobile-controls {
    display:none;
    justify-content:space-between;
    align-items:center;
    padding:12px 4px 0;
    gap:12px;
  }
  .ctrl-btn {
    background:#111; border:2px solid #444; color:#fff;
    font-family:'Press Start 2P',monospace; font-size:0.6rem;
    padding:14px 22px; cursor:pointer; border-radius:4px;
    user-select:none; -webkit-user-select:none;
    touch-action:manipulation; flex:1; text-align:center;
  }
  .ctrl-btn:active { background:#333; border-color:#0f0; }
  #fire-btn { border-color:#f00; color:#f00; }
  #fire-btn:active { background:#300; }

  /* Overlay now fills the visible game area instead of fixed 600px */
  #overlay {
    position:absolute;
    top:36px;
    left:0;
    width:100%;
    height:calc(100% - 36px);
    background:rgba(0,0,0,0.9);
    display:flex;
    flex-direction:column;
    align-items:center;
    justify-content:center;
    gap:18px;
    z-index:10;
  }
  #overlay h1 {
    color:#f80; font-size:1.1rem; text-align:center; line-height:1.8;
    animation:glow 1.5s infinite alternate;
  }
  @keyframes glow {
    from { text-shadow:0 0 8px #f80; }
    to   { text-shadow:0 0 24px #f80, 0 0 40px #ff0; }
  }
  #overlay .score-table { color:#fff; font-size:0.38rem; line-height:2.8; text-align:center; }
  #overlay p { color:#aaa; font-size:0.38rem; line-height:2.2; text-align:center; }
  #start-btn {
    background:transparent; border:2px solid #f80; color:#f80;
    font-family:'Press Start 2P',monospace; font-size:0.5rem;
    padding:12px 24px; cursor:pointer; animation:blink 1s infinite;
  }
  @keyframes blink { 0%,100%{opacity:1} 50%{opacity:0.3} }
  #start-btn:hover { background:#f80; color:#000; animation:none; }
</style>
</head>
<body>
<div id="wrapper">
  <div id="hud">
    <span>SCORE: <span id="score-display">0</span></span>
    <span id="hi-score-line">HI: <span id="hi-display">0</span></span>
    <span>LIVES: <span id="lives-display">♥♥♥</span></span>
  </div>

  <canvas id="canvas" width="600" height="600"></canvas>

  <div id="mobile-controls">
    <button class="ctrl-btn" id="left-btn">◀ LEFT</button>
    <button class="ctrl-btn" id="fire-btn">FIRE</button>
    <button class="ctrl-btn" id="right-btn">RIGHT ▶</button>
  </div>

  <div id="overlay">
    <h1>SPACE<br>APODACA</h1>
    <div class="score-table">
      <span style="color:#f44">▲</span> COMMANDER = 150 PTS (×2 diving!)<br>
      <span style="color:#f80">▲</span> ESCORT    =  80 PTS (×2 diving!)<br>
      <span style="color:#0ff">▲</span> DRONE     =  30 PTS (×2 diving!)<br>
      <span style="color:#ff0">▲</span> WORKER    =  10 PTS (×2 diving!)<br>
    </div>
    <p>← → MOVE &nbsp;|&nbsp; SPACE FIRE<br>SHOOT DIVERS FOR DOUBLE POINTS!</p>
    <button id="start-btn">PRESS START</button>
  </div>
</div>

<script>
const canvas = document.getElementById('canvas');
const ctx    = canvas.getContext('2d');
const W = 600, H = 600;

// ── INPUT ──────────────────────────────────────────────
const keys = {};
document.addEventListener('keydown', e=>{ keys[e.code]=true;  if(e.code==='Space') e.preventDefault(); });
document.addEventListener('keyup',   e=>{ keys[e.code]=false; });

['left-btn','right-btn','fire-btn'].forEach(id=>{
  const code = id==='left-btn'?'ArrowLeft': id==='right-btn'?'ArrowRight':'Space';
  document.getElementById(id).addEventListener('touchstart',()=>keys[code]=true,  {passive:true});
  document.getElementById(id).addEventListener('touchend',  ()=>keys[code]=false, {passive:true});
});
window.addEventListener('touchstart',()=>{
  document.getElementById('mobile-controls').style.display='flex';
},{once:true});

// ── CONSTANTS ──────────────────────────────────────────
const PLAYER_SPEED   = 260;
const BULLET_SPEED   = 520;
const ALIEN_COLS     = 10;
const ALIEN_ROWS     = 5;
const AW = 34, AH = 26;
const GAP_X = 18, GAP_Y = 14;

const ROW_META = [
  {color:'#f44', pts:150, type:'commander'},
  {color:'#f80', pts: 80, type:'escort'   },
  {color:'#0ff', pts: 30, type:'drone'    },
  {color:'#0ff', pts: 30, type:'drone'    },
  {color:'#ff0', pts: 10, type:'worker'   },
];

// ── PIXEL SPRITES ─────────────────────────────────────
const SP = {
  commander:{
    a:[[2,0],[3,0],[4,0],[5,0],[1,1],[2,1],[3,1],[4,1],[5,1],[6,1],[0,2],[1,2],[2,2],[3,2],[4,2],[5,2],[6,2],[7,2],[0,3],[2,3],[3,3],[4,3],[5,3],[7,3],[0,4],[1,4],[2,4],[3,4],[4,4],[5,4],[6,4],[7,4],[1,5],[3,5],[4,5],[6,5]],
    b:[[2,0],[3,0],[4,0],[5,0],[1,1],[2,1],[3,1],[4,1],[5,1],[6,1],[0,2],[1,2],[2,2],[3,2],[4,2],[5,2],[6,2],[7,2],[0,3],[2,3],[3,3],[4,3],[5,3],[7,3],[0,4],[1,4],[2,4],[3,4],[4,4],[5,4],[6,4],[7,4],[0,5],[2,5],[5,5],[7,5]],
  },
  escort:{
    a:[[3,0],[4,0],[2,1],[3,1],[4,1],[5,1],[1,2],[2,2],[3,2],[4,2],[5,2],[6,2],[0,3],[1,3],[3,3],[4,3],[6,3],[7,3],[0,4],[1,4],[2,4],[3,4],[4,4],[5,4],[6,4],[7,4],[0,5],[2,5],[3,5],[4,5],[5,5],[7,5]],
    b:[[3,0],[4,0],[2,1],[3,1],[4,1],[5,1],[1,2],[2,2],[3,2],[4,2],[5,2],[6,2],[0,3],[1,3],[3,3],[4,3],[6,3],[7,3],[0,4],[1,4],[2,4],[3,4],[4,4],[5,4],[6,4],[7,4],[1,5],[3,5],[4,5],[6,5]],
  },
  drone:{
    a:[[2,0],[3,0],[4,0],[5,0],[1,1],[2,1],[3,1],[4,1],[5,1],[6,1],[0,2],[1,2],[2,2],[3,2],[4,2],[5,2],[6,2],[7,2],[0,3],[1,3],[3,3],[4,3],[6,3],[7,3],[1,4],[2,4],[3,4],[4,4],[5,4],[6,4],[0,5],[3,5],[4,5],[7,5]],
    b:[[2,0],[3,0],[4,0],[5,0],[1,1],[2,1],[3,1],[4,1],[5,1],[6,1],[0,2],[1,2],[2,2],[3,2],[4,2],[5,2],[6,2],[7,2],[0,3],[1,3],[3,3],[4,3],[6,3],[7,3],[1,4],[2,4],[3,4],[4,4],[5,4],[6,4],[2,5],[3,5],[4,5],[5,5]],
  },
  worker:{
    a:[[2,0],[3,0],[4,0],[5,0],[1,1],[2,1],[3,1],[4,1],[5,1],[6,1],[0,2],[1,2],[2,2],[3,2],[4,2],[5,2],[6,2],[7,2],[0,3],[2,3],[3,3],[4,3],[5,3],[7,3],[1,4],[2,4],[5,4],[6,4],[0,5],[3,5],[4,5],[7,5]],
    b:[[2,0],[3,0],[4,0],[5,0],[1,1],[2,1],[3,1],[4,1],[5,1],[6,1],[0,2],[1,2],[2,2],[3,2],[4,2],[5,2],[6,2],[7,2],[0,3],[2,3],[3,3],[4,3],[5,3],[7,3],[1,4],[2,4],[5,4],[6,4],[1,5],[2,5],[5,5],[6,5]],
  },
};

const PLAYER_PX = [
  [4,0],[3,1],[4,1],[5,1],[2,2],[3,2],[4,2],[5,2],[6,2],
  [0,3],[1,3],[2,3],[3,3],[4,3],[5,3],[6,3],[7,3],[8,3],
  [0,4],[1,4],[2,4],[3,4],[4,4],[5,4],[6,4],[7,4],[8,4],
];

// ── STARS ─────────────────────────────────────────────
let stars = [];
function initStars(){
  stars = Array.from({length:80},()=>({
    x:Math.random()*W, y:Math.random()*H,
    speed:20+Math.random()*60,
    size:Math.random()<0.2?2:1,
    bright:Math.random()
  }));
}

// ── EXPLOSIONS ────────────────────────────────────────
let explosions=[];
function spawnExplosion(x,y,color){
  for(let i=0;i<14;i++){
    const a=(i/14)*Math.PI*2, s=50+Math.random()*100;
    explosions.push({x,y,vx:Math.cos(a)*s,vy:Math.sin(a)*s,life:1,maxLife:1,color});
  }
}

// ── STATE ─────────────────────────────────────────────
let state='menu', score=0, hiScore=0, lives=3, level=1;
let animId, lastTime=0;
let player, bullets, alienBullets, aliens, divers;
let swarmDirX, swarmX, swarmSpeed;
let swarmAnimTimer, swarmAnimInterval, swarmFrame;
let fireCooldown=0, fireHeld=false;
let flashTimer=0, deathTimer=0, levelBanner=0;
let diveTimer=0, diveInterval=3;

function initGame(){ score=0; lives=3; level=1; initLevel(); }

function initLevel(){
  const startX=(W-(ALIEN_COLS*(AW+GAP_X)-GAP_X))/2;
  swarmDirX=1; swarmX=0;
  swarmSpeed=28+level*6;
  swarmAnimTimer=0;
  swarmAnimInterval=Math.max(0.09,0.55-level*0.05);
  swarmFrame=0;
  fireCooldown=0; fireHeld=false;
  flashTimer=0; deathTimer=0;
  levelBanner=level>1?2.5:0;
  divers=[]; explosions=[];
  diveTimer=0; diveInterval=Math.max(1.0,3.2-level*0.28);

  player={x:W/2-20,y:H-56,w:40,h:20,dead:false};
  bullets=[]; alienBullets=[];

  aliens=[];
  for(let r=0;r<ALIEN_ROWS;r++){
    for(let c=0;c<ALIEN_COLS;c++){
      const m=ROW_META[r];
      aliens.push({
        homeX:startX+c*(AW+GAP_X), homeY:70+r*(AH+GAP_Y),
        x:startX+c*(AW+GAP_X),     y:70+r*(AH+GAP_Y),
        w:AW, h:AH, row:r, col:c,
        alive:true, frame:0,
        color:m.color, pts:m.pts, type:m.type,
        diving:false, divePhase:'down',
        diveVx:0, diveVy:0, diveSpeed:220,
        loopAngle:0, loopCenterX:0, loopCenterY:0, loopRadius:60,
      });
    }
  }
}

// ── DIVE ──────────────────────────────────────────────
function launchDive(){
  const pool=aliens.filter(a=>a.alive&&!a.diving);
  if(!pool.length) return;

  // Prefer high-value aliens near top
  let candidates=pool.filter(a=>a.type==='commander');
  if(!candidates.length) candidates=pool.filter(a=>a.type==='escort');
  if(!candidates.length) candidates=pool;

  const leader=candidates[Math.floor(Math.random()*candidates.length)];
  const group=[leader];

  // Add up to 2 wingmen
  const wings=pool.filter(a=>a!==leader&&Math.abs(a.col-leader.col)<=1&&Math.abs(a.row-leader.row)<=1);
  if(wings.length&&Math.random()<0.65) group.push(wings[Math.floor(Math.random()*wings.length)]);
  if(wings.length>1&&Math.random()<0.35) group.push(wings[Math.floor(Math.random()*wings.length)]);

  group.forEach((a,i)=>{
    a.diving=true; a.divePhase='down';
    a.diveSpeed=200+Math.random()*100+level*15;
    const dx=(player.x+20)-(a.x+AW/2);
    const dy=(player.y)-(a.y+AH/2);
    const base=Math.atan2(dy,dx);
    const spread=(i-Math.floor(group.length/2))*0.28;
    const angle=base+spread;
    a.diveVx=Math.cos(angle)*a.diveSpeed;
    a.diveVy=Math.sin(angle)*a.diveSpeed;
    a.loopAngle=-Math.PI/2;
    a.loopRadius=50+Math.random()*30;
    divers.push(a);
  });
}

function updateDiver(a,dt){
  if(a.divePhase==='down'){
    a.x+=a.diveVx*dt;
    a.y+=a.diveVy*dt;
    if(Math.random()<0.007) alienBullets.push({x:a.x+AW/2,y:a.y+AH,vx:(Math.random()-0.5)*60,vy:230});
    if(a.y>H+20){ a.divePhase='return'; a.x=(a.x<W/2)?-AW-10:W+10; a.y=a.homeY; }
    else if(a.y>H*0.52){ a.divePhase='curve'; a.loopCenterX=a.x+AW/2; a.loopCenterY=a.y+55; a.loopAngle=-Math.PI/2; }
  } else if(a.divePhase==='curve'){
    a.loopAngle+=(a.diveSpeed/a.loopRadius)*dt;
    a.x=a.loopCenterX+Math.cos(a.loopAngle)*a.loopRadius-AW/2;
    a.y=a.loopCenterY+Math.sin(a.loopAngle)*a.loopRadius-AH/2;
    if(Math.random()<0.005) alienBullets.push({x:a.x+AW/2,y:a.y+AH,vx:(Math.random()-0.5)*40,vy:240});
    if(a.loopAngle>=Math.PI/2) a.divePhase='return';
  } else if(a.divePhase==='return'){
    const tx=a.homeX+swarmX, ty=a.homeY;
    const dx=tx-a.x, dy=ty-a.y;
    const dist=Math.sqrt(dx*dx+dy*dy);
    if(dist<320*dt+4){ a.x=tx; a.y=ty; a.diving=false; a.divePhase='down'; divers=divers.filter(d=>d!==a); }
    else { a.x+=(dx/dist)*320*dt; a.y+=(dy/dist)*320*dt; }
  }
}

// ── UPDATE ────────────────────────────────────────────
function update(dt){
  if(state!=='playing') return;
  fireCooldown-=dt; flashTimer=Math.max(0,flashTimer-dt); levelBanner=Math.max(0,levelBanner-dt);

  stars.forEach(s=>{ s.y+=s.speed*dt; if(s.y>H){s.y=0;s.x=Math.random()*W;} });
  explosions=explosions.filter(p=>{ p.x+=p.vx*dt; p.y+=p.vy*dt; p.vy+=80*dt; p.life-=dt*2; return p.life>0; });

  // Player
  if(!player.dead){
    if(keys['ArrowLeft'])  player.x=Math.max(0,player.x-PLAYER_SPEED*dt);
    if(keys['ArrowRight']) player.x=Math.min(W-player.w,player.x+PLAYER_SPEED*dt);
    if(keys['Space']&&!fireHeld&&fireCooldown<=0&&bullets.length<3){
      bullets.push({x:player.x+player.w/2,y:player.y}); fireCooldown=0.28; fireHeld=true;
    }
    if(!keys['Space']) fireHeld=false;
  } else {
    deathTimer-=dt;
    if(deathTimer<=0){ if(lives<=0){gameOver();return;} player.dead=false; player.x=W/2-20; flashTimer=2; }
  }

  bullets=bullets.filter(b=>{ b.y-=BULLET_SPEED*dt; return b.y>0; });
  alienBullets=alienBullets.filter(b=>{ b.x+=b.vx*dt; b.y+=b.vy*dt; return b.y<H&&b.x>-10&&b.x<W+10; });

  // Swarm move
  swarmAnimTimer+=dt;
  if(swarmAnimTimer>=swarmAnimInterval){
    swarmAnimTimer=0; swarmFrame=swarmFrame===0?1:0;
    const form=aliens.filter(a=>a.alive&&!a.diving);
    if(form.length){
      const rmost=Math.max(...form.map(a=>a.homeX+swarmX+a.w));
      const lmost=Math.min(...form.map(a=>a.homeX+swarmX));
      if(swarmDirX===1&&rmost>=W-4){      swarmDirX=-1; form.forEach(a=>a.homeY+=18); }
      else if(swarmDirX===-1&&lmost<=4){  swarmDirX= 1; form.forEach(a=>a.homeY+=18); }
      else swarmX+=swarmDirX*swarmSpeed;
      form.forEach(a=>{ a.x=a.homeX+swarmX; a.y=a.homeY; a.frame=swarmFrame; });
      // Formation shoots
      if(form.length&&Math.random()<0.22){
        const s=form[Math.floor(Math.random()*form.length)];
        alienBullets.push({x:s.x+AW/2,y:s.y+AH,vx:(Math.random()-0.5)*30,vy:160+level*18});
      }
    }
  }

  // Launch dives
  diveTimer+=dt;
  if(diveTimer>=diveInterval){ diveTimer=0; if(Math.random()<0.85) launchDive(); }
  divers.slice().forEach(a=>updateDiver(a,dt));

  // Bullet vs alien
  outer: for(let bi=bullets.length-1;bi>=0;bi--){
    const b=bullets[bi];
    for(let ai=0;ai<aliens.length;ai++){
      const a=aliens[ai];
      if(!a.alive) continue;
      if(b.x>a.x&&b.x<a.x+a.w&&b.y>a.y&&b.y<a.y+a.h){
        a.alive=false;
        if(a.diving) divers=divers.filter(d=>d!==a);
        bullets.splice(bi,1);
        score+=a.diving?a.pts*2:a.pts;
        spawnExplosion(a.x+AW/2,a.y+AH/2,a.color);
        updateHUD();
        swarmSpeed=Math.min(swarmSpeed+1.2,130);
        swarmAnimInterval=Math.max(0.04,swarmAnimInterval-0.004);
        continue outer;
      }
    }
  }

  // Alien bullet vs player
  for(let bi=alienBullets.length-1;bi>=0;bi--){
    const b=alienBullets[bi];
    if(!player.dead&&flashTimer<=0&&b.x>player.x&&b.x<player.x+player.w&&b.y>player.y&&b.y<player.y+player.h){
      alienBullets.splice(bi,1); hitPlayer();
    }
  }

  // Diver collision with player
  divers.forEach(a=>{
    if(!a.alive) return;
    if(!player.dead&&flashTimer<=0&&a.x+a.w>player.x&&a.x<player.x+player.w&&a.y+a.h>player.y&&a.y<player.y+player.h){
      a.alive=false; divers=divers.filter(d=>d!==a);
      spawnExplosion(a.x+AW/2,a.y+AH/2,a.color); hitPlayer();
    }
  });

  // Aliens reach ground
  if(aliens.filter(a=>a.alive&&!a.diving).some(a=>a.y+a.h>=H-28)){ gameOver(); return; }

  // Win
  if(aliens.filter(a=>a.alive).length===0){ level++; initLevel(); }
}

// ── DRAW ──────────────────────────────────────────────
function px(x,y,sz,col,shape){
  ctx.fillStyle=col;
  shape.forEach(([px,py])=>ctx.fillRect(x+px*sz,y+py*sz,sz,sz));
}

function drawAlien(a){
  if(!a.alive) return;
  const shape=SP[a.type][a.frame===0?'a':'b'];
  if(a.diving){ ctx.shadowColor=a.color; ctx.shadowBlur=12; }
  px(a.x,a.y,4,a.color,shape);
  ctx.fillStyle='rgba(255,255,255,0.3)'; ctx.fillRect(a.x+8,a.y+2,8,4);
  ctx.shadowBlur=0;
}

function drawPlayer(){
  if(player.dead) return;
  if(flashTimer>0&&Math.floor(flashTimer*8)%2===0) return;
  ctx.shadowColor='#0f0'; ctx.shadowBlur=10;
  px(player.x,player.y,4,'#0f0',PLAYER_PX);
  // engine flame
  const fh=3+Math.floor(Math.random()*5);
  ctx.fillStyle='#f80'; ctx.fillRect(player.x+14,player.y+player.h,6,fh);
  ctx.fillStyle='#ff0'; ctx.fillRect(player.x+16,player.y+player.h,2,fh-2);
  ctx.shadowBlur=0;
}

function draw(){
  ctx.fillStyle='#000'; ctx.fillRect(0,0,W,H);

  // Scrolling stars
  stars.forEach(s=>{
    ctx.fillStyle=`rgba(255,255,255,${0.3+s.bright*0.7})`;
    ctx.fillRect(s.x,s.y,s.size,s.size);
  });

  // Ground line
  ctx.fillStyle='#0f0'; ctx.fillRect(0,H-18,W,2);

  // Aliens
  aliens.forEach(drawAlien);

  // Player bullets
  bullets.forEach(b=>{
    ctx.shadowColor='#ff0'; ctx.shadowBlur=10;
    ctx.fillStyle='#ff0'; ctx.fillRect(b.x-2,b.y-14,4,16);
    ctx.fillStyle='#fff'; ctx.fillRect(b.x-1,b.y-16,2,6);
    ctx.shadowBlur=0;
  });

  // Alien bullets
  alienBullets.forEach(b=>{
    ctx.shadowColor='#f44'; ctx.shadowBlur=6;
    ctx.fillStyle='#f44'; ctx.fillRect(b.x-2,b.y,4,10);
    ctx.fillStyle='#ffa'; ctx.fillRect(b.x-1,b.y+2,2,4);
    ctx.shadowBlur=0;
  });

  drawPlayer();

  // Explosions
  explosions.forEach(p=>{
    ctx.globalAlpha=Math.max(0,p.life);
    ctx.shadowColor=p.color; ctx.shadowBlur=6;
    ctx.fillStyle=p.color; ctx.fillRect(p.x-3,p.y-3,6,6);
  });
  ctx.globalAlpha=1; ctx.shadowBlur=0;

  // Level banner
  if(levelBanner>0){
    ctx.globalAlpha=Math.min(1,levelBanner*0.9);
    ctx.fillStyle='rgba(0,0,0,0.75)'; ctx.fillRect(0,H/2-30,W,60);
    ctx.fillStyle='#f80';
    ctx.font="0.7rem 'Press Start 2P',monospace"; ctx.textAlign='center';
    ctx.fillText(`LEVEL ${level}`,W/2,H/2+10);
    ctx.globalAlpha=1;
  }

  // Death flash
  if(player.dead&&Math.floor(deathTimer*10)%2===0){
    ctx.fillStyle='rgba(255,0,0,0.18)'; ctx.fillRect(0,0,W,H);
  }
}

// ── FLOW ──────────────────────────────────────────────
function hitPlayer(){
  if(player.dead||flashTimer>0) return;
  lives--; spawnExplosion(player.x+player.w/2,player.y+player.h/2,'#0f0');
  updateHUD(); player.dead=true; deathTimer=1.5;
}

function gameOver(){
  state='gameover'; if(score>hiScore) hiScore=score; updateHUD();
  showOverlay('GAME OVER',`SCORE: ${score}<br><br>HI-SCORE: ${hiScore}`,'PLAY AGAIN');
}

function showOverlay(title,body,btn){
  const ov=document.getElementById('overlay');
  ov.style.display='flex';
  ov.innerHTML=`<h1>${title}</h1>
    <p style="color:#ff0;font-size:0.45rem;line-height:2.5;">${body}</p>
    <button id="start-btn" style="background:transparent;border:2px solid #f80;color:#f80;
      font-family:'Press Start 2P',monospace;font-size:0.5rem;padding:12px 24px;cursor:pointer;">
      ${btn}</button>`;
  document.getElementById('start-btn').onclick=startGame;
}

function updateHUD(){
  document.getElementById('score-display').textContent=score;
  document.getElementById('hi-display').textContent=hiScore;
  document.getElementById('lives-display').textContent='♥'.repeat(Math.max(0,lives));
}

function startGame(){
  document.getElementById('overlay').style.display='none';
  cancelAnimationFrame(animId); initStars(); initGame(); updateHUD();
  state='playing'; lastTime=performance.now(); animId=requestAnimationFrame(loop);
}

function loop(ts){
  const dt=Math.min((ts-lastTime)/1000,0.05);
  lastTime=ts; update(dt); draw();
  animId=requestAnimationFrame(loop);
}

document.getElementById('start-btn').onclick=startGame;
initStars();
</script>
</body>
</html>
```
